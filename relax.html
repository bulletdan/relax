<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>æ”¾ç©º Â· Relax</title>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/gsap.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.5/ScrollTrigger.min.js"></script>
<style>
  * { margin: 0; padding: 0; box-sizing: border-box; }

  body {
    background: #0a0a12;
    color: #fff;
    font-family: -apple-system, 'PingFang SC', sans-serif;
    overflow-x: hidden;
  }

  section {
    min-height: 100vh;
    display: flex;
    align-items: center;
    justify-content: center;
    position: relative;
    overflow: hidden;
  }

  /* â”€â”€ Section 1: å‘¼å¸ â”€â”€ */
  #s1 { background: radial-gradient(ellipse at center, #0d1b2a 0%, #0a0a12 100%); }

  .breath-circle {
    width: 200px; height: 200px;
    border-radius: 50%;
    background: radial-gradient(circle, rgba(100,180,255,0.3) 0%, rgba(50,100,200,0.1) 60%, transparent 100%);
    border: 1px solid rgba(100,180,255,0.4);
    position: relative;
    display: flex; align-items: center; justify-content: center;
  }

  .breath-circle::before, .breath-circle::after {
    content: '';
    position: absolute;
    border-radius: 50%;
    border: 1px solid rgba(100,180,255,0.2);
  }
  .breath-circle::before { width: 260px; height: 260px; }
  .breath-circle::after  { width: 320px; height: 320px; }

  .breath-text {
    font-size: 14px;
    letter-spacing: 4px;
    color: rgba(150,200,255,0.8);
    text-transform: uppercase;
  }

  .s1-title {
    position: absolute;
    top: 15%;
    font-size: clamp(28px, 5vw, 52px);
    font-weight: 200;
    letter-spacing: 12px;
    color: rgba(255,255,255,0.85);
    text-align: center;
  }

  .s1-sub {
    position: absolute;
    bottom: 18%;
    font-size: 13px;
    letter-spacing: 3px;
    color: rgba(255,255,255,0.3);
  }

  /* â”€â”€ Section 2: æ˜Ÿç©º â”€â”€ */
  #s2 { background: #050510; }

  #starCanvas {
    position: absolute;
    inset: 0;
    width: 100%; height: 100%;
  }

  .s2-content {
    position: relative;
    z-index: 2;
    text-align: center;
  }

  .s2-title {
    font-size: clamp(24px, 4vw, 44px);
    font-weight: 100;
    letter-spacing: 8px;
    color: rgba(255,255,255,0.9);
    margin-bottom: 20px;
  }

  .s2-sub {
    font-size: 14px;
    letter-spacing: 3px;
    color: rgba(180,180,255,0.5);
  }

  /* â”€â”€ Section 3: æ³¢æµª â”€â”€ */
  #s3 { background: linear-gradient(180deg, #050510 0%, #001a2e 50%, #002a40 100%); }

  #waveCanvas {
    position: absolute;
    inset: 0;
    width: 100%; height: 100%;
  }

  .s3-content {
    position: relative;
    z-index: 2;
    text-align: center;
  }

  .s3-title {
    font-size: clamp(24px, 4vw, 44px);
    font-weight: 100;
    letter-spacing: 8px;
    color: rgba(255,255,255,0.9);
    margin-bottom: 20px;
  }

  .s3-sub {
    font-size: 14px;
    letter-spacing: 3px;
    color: rgba(100,200,255,0.5);
  }

  /* â”€â”€ Section 4: è½å¶ â”€â”€ */
  #s4 { background: linear-gradient(180deg, #0a1a0a 0%, #0d2010 100%); }

  .leaf { position: absolute; font-size: 20px; opacity: 0; pointer-events: none; }

  .s4-content {
    position: relative;
    z-index: 2;
    text-align: center;
  }

  .s4-title {
    font-size: clamp(24px, 4vw, 44px);
    font-weight: 100;
    letter-spacing: 8px;
    color: rgba(255,255,255,0.9);
    margin-bottom: 20px;
  }

  .s4-sub {
    font-size: 14px;
    letter-spacing: 3px;
    color: rgba(150,220,150,0.5);
  }

  /* â”€â”€ Section 5: ç»“å°¾ â”€â”€ */
  #s5 { background: radial-gradient(ellipse at center, #1a0a2e 0%, #0a0a12 100%); }

  .s5-content { text-align: center; }

  .s5-title {
    font-size: clamp(32px, 6vw, 72px);
    font-weight: 100;
    letter-spacing: 16px;
    color: rgba(255,255,255,0.9);
    margin-bottom: 30px;
  }

  .s5-sub {
    font-size: 15px;
    letter-spacing: 4px;
    color: rgba(200,150,255,0.5);
    line-height: 2;
  }

  .glow-dot {
    width: 6px; height: 6px;
    border-radius: 50%;
    background: rgba(200,150,255,0.8);
    margin: 40px auto 0;
    box-shadow: 0 0 20px rgba(200,150,255,0.6);
  }

  /* scroll hint */
  .scroll-hint {
    position: fixed;
    bottom: 30px;
    left: 50%;
    transform: translateX(-50%);
    font-size: 11px;
    letter-spacing: 3px;
    color: rgba(255,255,255,0.25);
    z-index: 100;
    transition: opacity 0.5s;
  }
</style>
</head>
<body>

<!-- Section 1: å‘¼å¸ -->
<section id="s1">
  <div class="s1-title" id="s1Title">æ”¾ã€€ç©º</div>
  <div class="breath-circle" id="breathCircle">
    <span class="breath-text" id="breathText">å‘¼å¸</span>
  </div>
  <div class="s1-sub">å‘ä¸‹æ»šåŠ¨ï¼Œå¼€å§‹æ”¾æ¾</div>
</section>

<!-- Section 2: æ˜Ÿç©º -->
<section id="s2">
  <canvas id="starCanvas"></canvas>
  <div class="s2-content" id="s2Content">
    <div class="s2-title">ä½ ä¸éœ€è¦åšä»»ä½•äº‹</div>
    <div class="s2-sub">åªæ˜¯å­˜åœ¨ï¼Œå°±å·²è¶³å¤Ÿ</div>
  </div>
</section>

<!-- Section 3: æ³¢æµª -->
<section id="s3">
  <canvas id="waveCanvas"></canvas>
  <div class="s3-content" id="s3Content">
    <div class="s3-title">è®©æ€ç»ªéšæ³¢æµæ·Œ</div>
    <div class="s3-sub">ä¸å¿…æŠ“ä½ï¼Œä¸å¿…è¿½é€</div>
  </div>
</section>

<!-- Section 4: è½å¶ -->
<section id="s4">
  <div id="leavesContainer"></div>
  <div class="s4-content" id="s4Content">
    <div class="s4-title">æ”¾ä¸‹ï¼Œå°±æ˜¯è‡ªç”±</div>
    <div class="s4-sub">æ­¤åˆ»ï¼Œä¸€åˆ‡éƒ½å¥½</div>
  </div>
</section>

<!-- Section 5: ç»“å°¾ -->
<section id="s5">
  <div class="s5-content" id="s5Content">
    <div class="s5-title">å®ã€€é™</div>
    <div class="s5-sub">ä½ å·²ç»è¶³å¤Ÿå¥½äº†<br>æ­¤åˆ»ï¼Œå¥½å¥½ä¼‘æ¯</div>
    <div class="glow-dot" id="glowDot"></div>
  </div>
</section>

<div class="scroll-hint" id="scrollHint">SCROLL</div>

<script>
gsap.registerPlugin(ScrollTrigger);

// â”€â”€ å‘¼å¸åŠ¨ç”» â”€â”€
const breathTl = gsap.timeline({ repeat: -1 });
breathTl
  .to('#breathCircle', { scale: 1.5, duration: 4, ease: 'sine.inOut' })
  .to('#breathText', { opacity: 0.3, duration: 2, ease: 'sine.inOut' }, 0)
  .to('#breathText', { opacity: 1, duration: 2, ease: 'sine.inOut' }, 2)
  .to('#breathCircle', { scale: 1, duration: 4, ease: 'sine.inOut' });

// S1 å…¥åœº
gsap.from('#s1Title', { opacity: 0, y: -30, duration: 1.5, ease: 'power2.out', delay: 0.3 });
gsap.from('.s1-sub', { opacity: 0, duration: 2, delay: 1.2 });

// éšè— scroll hint
ScrollTrigger.create({
  trigger: '#s2',
  start: 'top 80%',
  onEnter: () => gsap.to('#scrollHint', { opacity: 0, duration: 0.5 })
});

// â”€â”€ S2 æ˜Ÿç©º â”€â”€
const starCanvas = document.getElementById('starCanvas');
const sCtx = starCanvas.getContext('2d');
let stars = [];

function resizeStar() {
  starCanvas.width = starCanvas.offsetWidth;
  starCanvas.height = starCanvas.offsetHeight;
}
resizeStar();
window.addEventListener('resize', resizeStar);

for (let i = 0; i < 200; i++) {
  stars.push({
    x: Math.random(), y: Math.random(),
    r: Math.random() * 1.5 + 0.3,
    a: Math.random(),
    speed: Math.random() * 0.005 + 0.002
  });
}

let starProgress = 0;
function drawStars() {
  const w = starCanvas.width, h = starCanvas.height;
  sCtx.clearRect(0, 0, w, h);
  stars.forEach(s => {
    s.a += s.speed;
    const alpha = (Math.sin(s.a) * 0.5 + 0.5) * starProgress;
    sCtx.beginPath();
    sCtx.arc(s.x * w, s.y * h, s.r, 0, Math.PI * 2);
    sCtx.fillStyle = `rgba(200,210,255,${alpha})`;
    sCtx.fill();
  });
  requestAnimationFrame(drawStars);
}
drawStars();

ScrollTrigger.create({
  trigger: '#s2', start: 'top 60%', end: 'bottom 40%',
  onEnter: () => gsap.to({ v: starProgress }, { v: 1, duration: 2, onUpdate: function() { starProgress = this.targets()[0].v; } }),
  onLeaveBack: () => gsap.to({ v: starProgress }, { v: 0, duration: 1, onUpdate: function() { starProgress = this.targets()[0].v; } })
});

gsap.from('#s2Content', {
  scrollTrigger: { trigger: '#s2', start: 'top 60%' },
  opacity: 0, y: 40, duration: 1.5, ease: 'power2.out'
});

// â”€â”€ S3 æ³¢æµª â”€â”€
const waveCanvas = document.getElementById('waveCanvas');
const wCtx = waveCanvas.getContext('2d');
let waveOffset = 0;

function resizeWave() {
  waveCanvas.width = waveCanvas.offsetWidth;
  waveCanvas.height = waveCanvas.offsetHeight;
}
resizeWave();
window.addEventListener('resize', resizeWave);

let waveAlpha = 0;
function drawWaves() {
  const w = waveCanvas.width, h = waveCanvas.height;
  wCtx.clearRect(0, 0, w, h);
  waveOffset += 0.008;

  [
    { amp: 40, freq: 0.008, phase: 0,    y: h * 0.55, color: `rgba(0,150,200,${waveAlpha * 0.15})` },
    { amp: 30, freq: 0.012, phase: 1.5,  y: h * 0.60, color: `rgba(0,180,220,${waveAlpha * 0.12})` },
    { amp: 50, freq: 0.006, phase: 3,    y: h * 0.65, color: `rgba(0,120,180,${waveAlpha * 0.18})` },
  ].forEach(wave => {
    wCtx.beginPath();
    wCtx.moveTo(0, h);
    for (let x = 0; x <= w; x += 4) {
      const y = wave.y + Math.sin(x * wave.freq + waveOffset + wave.phase) * wave.amp;
      wCtx.lineTo(x, y);
    }
    wCtx.lineTo(w, h);
    wCtx.closePath();
    wCtx.fillStyle = wave.color;
    wCtx.fill();
  });
  requestAnimationFrame(drawWaves);
}
drawWaves();

ScrollTrigger.create({
  trigger: '#s3', start: 'top 60%', end: 'bottom 40%',
  onEnter: () => gsap.to({ v: waveAlpha }, { v: 1, duration: 2, onUpdate: function() { waveAlpha = this.targets()[0].v; } }),
  onLeaveBack: () => gsap.to({ v: waveAlpha }, { v: 0, duration: 1, onUpdate: function() { waveAlpha = this.targets()[0].v; } })
});

gsap.from('#s3Content', {
  scrollTrigger: { trigger: '#s3', start: 'top 60%' },
  opacity: 0, y: 40, duration: 1.5, ease: 'power2.out'
});

// â”€â”€ S4 è½å¶ â”€â”€
const leafEmojis = ['ğŸƒ', 'ğŸ‚', 'ğŸ', 'ğŸŒ¿'];
const container = document.getElementById('leavesContainer');

function createLeaf() {
  const el = document.createElement('div');
  el.className = 'leaf';
  el.textContent = leafEmojis[Math.floor(Math.random() * leafEmojis.length)];
  el.style.left = Math.random() * 100 + 'vw';
  el.style.top = '-40px';
  el.style.fontSize = (16 + Math.random() * 16) + 'px';
  container.appendChild(el);

  gsap.to(el, {
    y: window.innerHeight + 60,
    x: (Math.random() - 0.5) * 200,
    rotation: Math.random() * 720 - 360,
    opacity: 0.7,
    duration: 6 + Math.random() * 4,
    ease: 'none',
    onComplete: () => el.remove()
  });
  gsap.to(el, { opacity: 0.7, duration: 0.5 });
}

let leafInterval = null;
ScrollTrigger.create({
  trigger: '#s4', start: 'top 60%', end: 'bottom 40%',
  onEnter: () => { leafInterval = setInterval(createLeaf, 400); },
  onLeave: () => { clearInterval(leafInterval); },
  onEnterBack: () => { leafInterval = setInterval(createLeaf, 400); },
  onLeaveBack: () => { clearInterval(leafInterval); }
});

gsap.from('#s4Content', {
  scrollTrigger: { trigger: '#s4', start: 'top 60%' },
  opacity: 0, y: 40, duration: 1.5, ease: 'power2.out'
});

// â”€â”€ S5 ç»“å°¾ â”€â”€
gsap.from('#s5Content', {
  scrollTrigger: { trigger: '#s5', start: 'top 60%' },
  opacity: 0, scale: 0.95, duration: 2, ease: 'power2.out'
});

gsap.to('#glowDot', {
  scale: 2, opacity: 0.3, duration: 2,
  repeat: -1, yoyo: true, ease: 'sine.inOut',
  scrollTrigger: { trigger: '#s5', start: 'top 60%' }
});
</script>
</body>
</html>
