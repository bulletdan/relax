<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1.0,user-scalable=no">
<title>INFJ 放松空间</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;1,300&family=Inter:wght@300;400&display=swap" rel="stylesheet">
<style>
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',sans-serif;font-weight:300;background:#08080f;color:#e8dcc8;
  height:100vh;overflow:hidden;cursor:default;user-select:none;}
body::after{content:'';position:fixed;inset:0;background:radial-gradient(ellipse at center,transparent 40%,rgba(0,0,0,0.45) 100%);pointer-events:none;z-index:6;}

.bg{
  position:fixed;top:0;left:0;right:0;bottom:0;z-index:0;
  background:linear-gradient(135deg,#06080e 0%,#0a1020 35%,#12102a 60%,#1a1008 85%,#06080e 100%);
  background-size:400% 400%;animation:bgShift 20s ease infinite;
}
@keyframes bgShift{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}

.glow{position:fixed;z-index:1;border-radius:50%;filter:blur(80px);opacity:0.15;animation:float 12s ease-in-out infinite;}
.glow1{width:500px;height:500px;background:#3a3575;top:-10%;left:-10%}
.glow2{width:400px;height:400px;background:#7a4a2a;bottom:-10%;right:-10%;animation-delay:-6s}
.glow3{width:300px;height:300px;background:#2a5070;top:50%;left:60%;animation-delay:-3s}
@keyframes float{0%,100%{transform:translate(0,0)}33%{transform:translate(30px,-30px)}66%{transform:translate(-20px,20px)}}

/* 月亮 */
.moon{
  position:fixed;top:6%;right:8%;z-index:3;
  width:64px;height:64px;border-radius:50%;
  background:radial-gradient(circle at 38% 38%,#fff8e8,#e8d89a 50%,#c8b870);
  box-shadow:0 0 30px rgba(240,220,140,0.25),0 0 80px rgba(220,200,100,0.1);
  animation:moonFloat 14s ease-in-out infinite;
}
.moon-glow{
  position:absolute;inset:-30px;border-radius:50%;
  background:radial-gradient(circle,rgba(240,220,140,0.12) 0%,transparent 70%);
  animation:moonPulse 6s ease-in-out infinite;
}
@keyframes moonFloat{0%,100%{transform:translateY(0)}50%{transform:translateY(-12px)}}
@keyframes moonPulse{0%,100%{opacity:0.6}50%{opacity:1}}

/* 极光 */
.aurora{position:fixed;top:0;left:0;right:0;height:45%;z-index:1;pointer-events:none;overflow:hidden;}
.aurora-band{
  position:absolute;width:200%;height:180px;
  border-radius:50%;filter:blur(40px);opacity:0;
  animation:auroraDrift linear infinite;
}
.aurora-band:nth-child(1){
  background:linear-gradient(90deg,transparent,rgba(60,180,120,0.09),rgba(80,160,200,0.12),transparent);
  top:10%;left:-50%;animation-duration:18s;animation-delay:0s;filter:blur(50px) saturate(0.8);
}
.aurora-band:nth-child(2){
  background:linear-gradient(90deg,transparent,rgba(120,80,200,0.09),rgba(60,160,180,0.1),transparent);
  top:25%;left:-50%;animation-duration:24s;animation-delay:-8s;filter:blur(55px) saturate(0.8);
}
.aurora-band:nth-child(3){
  background:linear-gradient(90deg,transparent,rgba(80,200,160,0.07),rgba(100,100,220,0.09),transparent);
  top:5%;left:-50%;animation-duration:30s;animation-delay:-15s;filter:blur(60px) saturate(0.8);
}
@keyframes auroraDrift{
  0%{transform:translateX(0) skewY(-3deg);opacity:0;}
  15%{opacity:1;}85%{opacity:1;}
  100%{transform:translateX(60%) skewY(3deg);opacity:0;}
}

.stars{position:fixed;top:0;left:0;right:0;bottom:0;z-index:2;pointer-events:none}
.star{position:absolute;background:#fff;border-radius:50%;animation:twinkle 4s ease-in-out infinite alternate;}
.star.bright{
  background:radial-gradient(circle,#fff 20%,rgba(200,220,255,0.5) 60%,transparent);
  box-shadow:0 0 8px rgba(200,220,255,0.8),0 0 25px rgba(180,200,255,0.4),0 0 50px rgba(160,180,255,0.15);
  animation:twinkleBright 3s ease-in-out infinite alternate;
}
.star.warm{
  background:radial-gradient(circle,#fff8e8 20%,rgba(255,220,160,0.5) 60%,transparent);
  box-shadow:0 0 8px rgba(255,220,160,0.7),0 0 20px rgba(255,200,120,0.3);
  animation:twinkleBright 4s ease-in-out infinite alternate;
}
@keyframes twinkle{0%{opacity:0.1;transform:scale(0.8)}100%{opacity:0.85;transform:scale(1.2)}}
@keyframes twinkleBright{0%{opacity:0.5;transform:scale(0.9)}100%{opacity:1;transform:scale(1.4)}}

.meteor{
  position:fixed;z-index:2;pointer-events:none;width:2px;
  background:linear-gradient(to bottom,rgba(255,255,255,0.9),rgba(255,240,200,0.3),transparent);
  animation:meteorFall linear infinite;opacity:0;
}
@keyframes meteorFall{
  0%{transform:translate(0,0) rotate(-45deg);opacity:0}
  4%{opacity:1}18%{opacity:0;transform:translate(-350px,350px) rotate(-45deg)}
  100%{opacity:0}
}

.ripple{
  position:fixed;z-index:5;pointer-events:none;
  border:1px solid rgba(232,220,200,0.4);border-radius:50%;
  animation:rippleOut 1.5s ease-out forwards;
}
@keyframes rippleOut{
  0%{width:0;height:0;opacity:0.8}
  100%{width:300px;height:300px;opacity:0;margin-left:-150px;margin-top:-150px}
}

.content{
  position:relative;z-index:10;height:100vh;
  display:flex;flex-direction:column;align-items:center;justify-content:center;gap:28px;
}
.greeting{
  position:fixed;top:28px;left:50%;z-index:10;
  font-size:0.65rem;letter-spacing:0.22em;text-transform:uppercase;
  color:rgba(232,220,200,0.5);
  opacity:0;animation:greetFade 2s ease forwards 0.3s;
}
@keyframes greetFade{
  from{opacity:0;translate:-50% 8px}
  to{opacity:1;translate:-50% 0}
}
.quote{
  font-family:'Cormorant Garamond',serif;font-weight:300;font-style:italic;
  font-size:1.55rem;text-align:center;max-width:460px;
  line-height:2.1;letter-spacing:0.04em;cursor:pointer;
  opacity:0;animation:fadeUp 2.5s ease forwards 0.5s;
  text-shadow:0 0 40px rgba(232,220,200,0.12);
  transition:opacity 0.6s ease;
}
.quote.fading{opacity:0 !important;transform:translateY(10px)}
@keyframes fadeUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
.quote-divider{width:40px;height:1px;background:rgba(232,220,200,0.3);margin:0 auto;margin-top:16px}
.quote-hint{font-size:0.6rem;opacity:0.25;letter-spacing:2px;margin-top:4px;}

.btn{
  background:rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.1);
  color:#e8dcc8;padding:14px 22px;border-radius:12px;
  cursor:pointer;letter-spacing:0.12em;
  transition:all 0.4s ease;backdrop-filter:blur(12px);
  display:flex;flex-direction:column;align-items:flex-start;gap:4px;
  min-width:100px;
}
.btn .btn-label{font-size:0.75rem;font-weight:400;letter-spacing:0.14em;text-transform:uppercase;color:rgba(232,220,200,0.9);}
.btn .btn-sub{font-size:0.6rem;letter-spacing:0.1em;color:rgba(232,220,200,0.35);}
.btn:hover{background:rgba(255,255,255,0.07);border-color:rgba(232,220,200,0.25);box-shadow:0 0 20px rgba(232,220,200,0.06);transform:translateY(-2px);}
.btn.active{background:rgba(147,112,219,0.15);border-color:rgba(147,112,219,0.45);box-shadow:0 0 30px rgba(147,112,219,0.18),inset 0 1px 0 rgba(255,255,255,0.08);}

/* 呼吸圆 */
.breath-wrap{
  position:fixed;bottom:60px;right:40px;z-index:10;
  display:flex;flex-direction:column;align-items:center;gap:10px;
  opacity:0;animation:fadeUp 2s ease forwards 3.5s;cursor:pointer;
}
.breath-circle{
  position:relative;width:56px;height:56px;
}
.breath-ring{
  width:56px;height:56px;border-radius:50%;
  border:1px solid rgba(232,220,200,0.25);
  transition:transform 4s ease-in-out, border-color 4s ease-in-out, box-shadow 4s ease-in-out;
}
.breath-ring.inhale{transform:scale(1.6);border-color:rgba(120,180,220,0.5);box-shadow:0 0 20px rgba(120,180,220,0.15)}
.breath-ring.exhale{transform:scale(1);border-color:rgba(232,220,200,0.25);box-shadow:none}
.breath-dot{
  position:absolute;width:6px;height:6px;border-radius:50%;
  background:rgba(232,220,200,0.6);
  top:50%;left:50%;margin-left:-3px;margin-top:-3px;
  transition:transform 4s ease-in-out, background 4s ease-in-out;
}
.breath-ring.inhale~.breath-dot{transform:scale(2);background:rgba(120,180,220,0.8)}
.breath-ring.exhale~.breath-dot{transform:scale(1);background:rgba(232,220,200,0.6)}
.breath-label{font-size:0.65rem;letter-spacing:2px;color:rgba(232,220,200,0.4);transition:color 0.5s}
</style>
</head>
<body>
<style>
.bowl-wrap{opacity:0;animation:fadeUp 2s ease forwards 1.8s;display:flex;flex-direction:column;align-items:center;gap:8px;}
.bowl{
  width:72px;height:72px;border-radius:50%;cursor:pointer;
  background:radial-gradient(circle at 35% 35%,#c9a96e,#6b5a3e 70%,#3a2f20);
  box-shadow:0 0 0 rgba(201,169,110,0);transition:box-shadow 0.3s;display:flex;align-items:center;justify-content:center;
}
.bowl:hover{box-shadow:0 0 40px rgba(201,169,110,0.2)}
.bowl.ring{animation:bowlRing 1.5s ease-out}
@keyframes bowlRing{0%{box-shadow:0 0 0 0 rgba(201,169,110,0.5)}100%{box-shadow:0 0 0 80px rgba(201,169,110,0)}}
.bowl-label{font-size:0.6rem;opacity:0.3;letter-spacing:0.18em;text-transform:uppercase;}

.release-wrap{opacity:0;animation:fadeUp 2s ease forwards 2.2s;display:flex;flex-direction:column;align-items:center;gap:10px;width:100%;max-width:300px;}
.release-label{font-size:0.6rem;letter-spacing:0.2em;text-transform:uppercase;color:rgba(232,220,200,0.3);align-self:flex-start;}
.release-input{
  background:transparent;border:none;
  border-bottom:1px solid rgba(255,255,255,0.1);
  padding:10px 0;color:#e8dcc8;font-size:0.85rem;width:100%;
  outline:none;font-family:'Inter',sans-serif;font-weight:300;letter-spacing:0.04em;
  transition:border-color 0.4s;
}
.release-input::placeholder{color:rgba(232,220,200,0.25);font-style:italic;}
.release-input:focus{border-bottom-color:rgba(147,112,219,0.5);}
.release-btn{
  background:none;border:1px solid rgba(255,255,255,0.1);
  color:rgba(232,220,200,0.45);padding:8px 28px;border-radius:20px;
  cursor:pointer;font-size:0.65rem;letter-spacing:0.2em;text-transform:uppercase;transition:all 0.4s;
}
.release-btn:hover{color:#e8dcc8;border-color:rgba(232,220,200,0.3);box-shadow:0 0 15px rgba(232,220,200,0.05)}

.particle{position:fixed;z-index:20;pointer-events:none;color:#e8dcc8;font-size:0.85rem;opacity:1;animation:particleFly 2.5s ease-out forwards;}
@keyframes particleFly{0%{opacity:1;transform:translate(0,0) scale(1)}100%{opacity:0;transform:translate(var(--tx),var(--ty)) scale(0.2)}}

.vol-wrap{display:flex;align-items:center;gap:10px;opacity:0;animation:fadeUp 2s ease forwards 1.5s;}
input[type=range]{-webkit-appearance:none;width:120px;height:1px;background:rgba(255,255,255,0.12);border-radius:1px;outline:none;}
input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;width:10px;height:10px;background:rgba(232,220,200,0.85);border-radius:50%;cursor:pointer;box-shadow:0 0 8px rgba(147,112,219,0.5);}

.hint{position:fixed;bottom:24px;left:50%;transform:translateX(-50%);font-size:0.6rem;opacity:0;letter-spacing:0.2em;text-transform:uppercase;color:rgba(232,220,200,0.18);animation:fadeUp 2s ease forwards 3s;z-index:10;}

/* 绿精灵 */
#elder{position:fixed;z-index:20;pointer-events:none;width:64px;height:100px;}
#elder svg{width:64px;height:100px;overflow:visible;filter:drop-shadow(0 0 8px rgba(80,220,120,0.5)) drop-shadow(0 0 24px rgba(60,180,100,0.25));}
.elder-tap{animation:elderTap 0.5s ease;}
@keyframes elderTap{0%{transform:rotate(0) scale(1)}30%{transform:rotate(-18deg) scale(1.08)}70%{transform:rotate(12deg) scale(1.04)}100%{transform:rotate(0) scale(1)}}
.elder-blink{animation:elderBlink 0.18s ease;}
@keyframes elderBlink{0%,100%{transform:scaleY(1)}50%{transform:scaleY(0.05)}}
.elder-magic{position:fixed;z-index:19;pointer-events:none;border-radius:50%;animation:magicFade 1.2s ease-out forwards;}
@keyframes magicFade{0%{opacity:0.9;transform:scale(0.3) translate(0,0)}100%{opacity:0;transform:scale(1) translate(var(--mx),var(--my))}}

.firefly{
  position:fixed;z-index:4;pointer-events:none;border-radius:50%;
  width:4px;height:4px;background:rgba(255,240,180,0.7);
  box-shadow:0 0 6px rgba(255,230,150,0.5),0 0 15px rgba(255,220,100,0.2);
  animation:fireflyMove linear infinite;
}
@keyframes fireflyMove{
  0%{transform:translate(0,0);opacity:0}
  10%{opacity:0.8}50%{opacity:0.3}90%{opacity:0.7}
  100%{transform:translate(var(--fx),var(--fy));opacity:0}
}

@media(max-width:600px){
  .quote{font-size:1.15rem;max-width:85vw;line-height:1.8}
  .greeting{font-size:0.75rem}
  .content{gap:24px;padding:0 16px}
  .breath-wrap{bottom:30px;right:20px}
  .release-input{width:220px;font-size:0.8rem}
  .moon{width:44px;height:44px;top:4%;right:5%}
  .btn{padding:10px 18px;font-size:0.8rem}
}
</style>

<div class="bg"></div>
<div class="glow glow1"></div><div class="glow glow2"></div><div class="glow glow3"></div>

<div class="aurora">
  <div class="aurora-band"></div>
  <div class="aurora-band"></div>
  <div class="aurora-band"></div>
</div>

<canvas id="milkyway" style="position:fixed;top:0;left:0;z-index:1;pointer-events:none"></canvas>
<div class="stars" id="stars"></div>

<div class="moon"><div class="moon-glow"></div></div>

<div class="meteor" style="top:3%;left:75%;height:90px;animation-duration:7s;animation-delay:0s"></div>
<div class="meteor" style="top:10%;left:50%;height:70px;animation-duration:9s;animation-delay:2s"></div>
<div class="meteor" style="top:5%;left:30%;height:110px;animation-duration:8s;animation-delay:4.5s"></div>
<div class="meteor" style="top:18%;left:85%;height:80px;animation-duration:11s;animation-delay:1.5s"></div>
<div class="meteor" style="top:2%;left:60%;height:95px;animation-duration:10s;animation-delay:6s"></div>
<div class="meteor" style="top:12%;left:20%;height:75px;animation-duration:13s;animation-delay:3s"></div>
<div class="meteor" style="top:7%;left:90%;height:100px;animation-duration:8.5s;animation-delay:8s"></div>
<div class="meteor" style="top:20%;left:42%;height:85px;animation-duration:12s;animation-delay:5s"></div>

<div class="greeting" id="greeting"></div>

<div class="content">
  <div class="quote" id="quote"></div>
  <div class="quote-hint">轻触文字换一句</div>
  <div class="bowl-wrap">
    <div class="bowl" id="bowl"></div>
    <div class="bowl-label">轻触颂钵</div>
  </div>
  <div style="display:flex;gap:12px;flex-wrap:wrap;justify-content:center;opacity:0;animation:fadeUp 2s ease forwards 1.5s">
    <button class="btn" data-src="vem_click-rain-sound-188158.mp3">
      <span class="btn-label">Rain</span>
      <span class="btn-sub">自然白噪音</span>
    </button>
    <button class="btn" data-src="22.mp3">
      <span class="btn-label">Night</span>
      <span class="btn-sub">晚安 Lo-Fi</span>
    </button>
    <button class="btn" data-src="lofi.mp3">
      <span class="btn-label">Lo-Fi</span>
      <span class="btn-sub">轻音乐</span>
    </button>
  </div>
  <div class="vol-wrap">
    <span style="font-size:0.6rem;letter-spacing:0.15em;text-transform:uppercase;opacity:0.3">Vol</span>
    <input type="range" id="vol" min="0" max="1" step="0.05" value="0.5">
  </div>
  <div class="release-wrap">
    <span class="release-label">Release</span>
    <input class="release-input" id="releaseInput" type="text" placeholder="写下你想放下的事…" maxlength="50">
    <button class="release-btn" id="releaseBtn">释 放</button>
  </div>
</div>

<div class="breath-wrap">
  <div class="breath-circle">
    <div class="breath-ring" id="breathRing"></div>
    <div class="breath-dot" id="breathDot"></div>
  </div>
  <div class="breath-label" id="breathLabel">吸气…</div>
</div>

<div class="hint">轻触任意处，泛起涟漪</div>

<!-- 绿精灵 -->
<div id="elder">
<svg viewBox="0 0 64 100" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <radialGradient id="faceG" cx="40%" cy="35%"><stop offset="0%" stop-color="#d4f0c0"/><stop offset="100%" stop-color="#8ec87a"/></radialGradient>
    <radialGradient id="bodyG" cx="30%" cy="20%"><stop offset="0%" stop-color="#2d6e3a"/><stop offset="100%" stop-color="#0f2e18"/></radialGradient>
    <radialGradient id="hatG" cx="30%" cy="20%"><stop offset="0%" stop-color="#1a5c28"/><stop offset="100%" stop-color="#071810"/></radialGradient>
    <radialGradient id="eyeGlowL" cx="50%" cy="50%"><stop offset="0%" stop-color="#a0ffb0" stop-opacity="1"/><stop offset="100%" stop-color="#40c060" stop-opacity="0"/></radialGradient>
    <radialGradient id="eyeGlowR" cx="50%" cy="50%"><stop offset="0%" stop-color="#a0ffb0" stop-opacity="1"/><stop offset="100%" stop-color="#40c060" stop-opacity="0"/></radialGradient>
    <filter id="glow"><feGaussianBlur stdDeviation="1.5" result="blur"/><feMerge><feMergeNode in="blur"/><feMergeNode in="SourceGraphic"/></feMerge></filter>
  </defs>
  <!-- 帽子尖 -->
  <path d="M32 1 L44 30 H20 Z" fill="url(#hatG)"/>
  <!-- 帽子星纹 -->
  <path d="M32 8 L33.2 11.6 L37 11.6 L34 13.8 L35.2 17.4 L32 15.2 L28.8 17.4 L30 13.8 L27 11.6 L30.8 11.6 Z" fill="rgba(160,255,180,0.25)" filter="url(#glow)"/>
  <!-- 帽檐 -->
  <rect x="17" y="28" width="30" height="5" rx="2.5" fill="#0d3a18"/>
  <!-- 帽带 -->
  <rect x="17" y="30" width="30" height="1.5" rx="0.75" fill="rgba(100,220,140,0.4)"/>
  <!-- 脸 -->
  <ellipse cx="32" cy="43" rx="13" ry="12" fill="url(#faceG)"/>
  <!-- 眼眶光晕 -->
  <ellipse cx="25" cy="41" rx="4" ry="4" fill="url(#eyeGlowL)" opacity="0.3"/>
  <ellipse cx="39" cy="41" rx="4" ry="4" fill="url(#eyeGlowR)" opacity="0.3"/>
  <!-- 眼白 -->
  <ellipse id="eye-l" cx="25" cy="41" rx="3" ry="3.2" fill="#e8fff0"/>
  <ellipse id="eye-r" cx="39" cy="41" rx="3" ry="3.2" fill="#e8fff0"/>
  <!-- 瞳孔 -->
  <circle cx="25.5" cy="41.5" r="1.8" fill="#0a2010"/>
  <circle cx="39.5" cy="41.5" r="1.8" fill="#0a2010"/>
  <!-- 眼睛高光 -->
  <circle cx="26.2" cy="40.5" r="0.7" fill="rgba(160,255,180,0.9)"/>
  <circle cx="40.2" cy="40.5" r="0.7" fill="rgba(160,255,180,0.9)"/>
  <!-- 眉毛 -->
  <path d="M22 37 Q25 35.5 28 37" stroke="#2a5a30" stroke-width="1.2" fill="none" stroke-linecap="round"/>
  <path d="M36 37 Q39 35.5 42 37" stroke="#2a5a30" stroke-width="1.2" fill="none" stroke-linecap="round"/>
  <!-- 鼻子 -->
  <ellipse cx="32" cy="45" rx="2" ry="1.5" fill="#7ab870" opacity="0.7"/>
  <!-- 胡须 — 飘逸三缕 -->
  <path d="M22 50 Q32 56 42 50" fill="rgba(220,255,230,0.85)"/>
  <path d="M24 50 Q32 58 40 50" fill="rgba(200,240,210,0.6)"/>
  <path d="M20 48 Q18 54 16 58" stroke="rgba(220,255,230,0.5)" stroke-width="1.2" fill="none" stroke-linecap="round"/>
  <path d="M44 48 Q46 54 48 58" stroke="rgba(220,255,230,0.5)" stroke-width="1.2" fill="none" stroke-linecap="round"/>
  <!-- 身体 -->
  <path d="M19 62 Q17 78 17 90 H47 Q47 78 45 62 Q39 57 32 57 Q25 57 19 62Z" fill="url(#bodyG)"/>
  <!-- 身体纹路 -->
  <path d="M24 65 Q32 63 40 65" stroke="rgba(80,180,100,0.2)" stroke-width="1" fill="none"/>
  <path d="M22 72 Q32 70 42 72" stroke="rgba(80,180,100,0.15)" stroke-width="1" fill="none"/>
  <!-- 腰带 -->
  <rect x="19" y="67" width="26" height="4.5" rx="2.25" fill="#071810"/>
  <rect x="28" y="66" width="8" height="6.5" rx="1.5" fill="#0d3a18"/>
  <!-- 腰带扣 — 符文 -->
  <circle cx="32" cy="69.5" r="2.5" fill="none" stroke="rgba(100,220,140,0.6)" stroke-width="0.8"/>
  <circle cx="32" cy="69.5" r="1" fill="rgba(100,220,140,0.4)"/>
  <!-- 领口 -->
  <ellipse cx="32" cy="59" rx="9" ry="3" fill="rgba(220,255,230,0.7)"/>
  <!-- 袖子 -->
  <path d="M19 64 Q10 68 9 75" stroke="url(#bodyG)" stroke-width="8" stroke-linecap="round" fill="none"/>
  <circle cx="9" cy="76" r="4.5" fill="#8ec87a"/>
  <path d="M45 64 Q54 68 55 75" stroke="url(#bodyG)" stroke-width="8" stroke-linecap="round" fill="none"/>
  <circle cx="55" cy="76" r="4.5" fill="#8ec87a"/>
  <!-- 下摆 -->
  <ellipse cx="32" cy="90" rx="15" ry="3.5" fill="rgba(220,255,230,0.6)"/>
  <!-- 靴子 -->
  <ellipse cx="23" cy="94" rx="7" ry="3" fill="#071810"/>
  <ellipse cx="41" cy="94" rx="7" ry="3" fill="#071810"/>
  <!-- 靴子高光 -->
  <path d="M19 93 Q23 91.5 27 93" stroke="rgba(80,160,100,0.3)" stroke-width="0.8" fill="none"/>
  <path d="M37 93 Q41 91.5 45 93" stroke="rgba(80,160,100,0.3)" stroke-width="0.8" fill="none"/>
</svg>
</div>

<script>
// 银河
const mw=document.getElementById('milkyway');
mw.width=innerWidth;mw.height=innerHeight;
window.addEventListener('resize',()=>{mw.width=innerWidth;mw.height=innerHeight;drawMilkyWay()});
function drawMilkyWay(){
  const c=mw.getContext('2d');
  c.clearRect(0,0,mw.width,mw.height);
  const grad=c.createLinearGradient(0,mw.height*0.8,mw.width,mw.height*0.1);
  grad.addColorStop(0,'rgba(80,90,160,0)');
  grad.addColorStop(0.2,'rgba(100,110,180,0.07)');
  grad.addColorStop(0.4,'rgba(140,130,200,0.11)');
  grad.addColorStop(0.5,'rgba(160,150,210,0.13)');
  grad.addColorStop(0.6,'rgba(140,130,200,0.11)');
  grad.addColorStop(0.8,'rgba(100,110,180,0.07)');
  grad.addColorStop(1,'rgba(80,90,160,0)');
  c.save();c.translate(mw.width/2,mw.height/2);c.rotate(-0.45);
  c.fillStyle=grad;c.fillRect(-mw.width,-mw.height*0.22,mw.width*2,mw.height*0.44);
  c.restore();
  for(let i=0;i<180;i++){
    const t=Math.random();
    const bx=mw.width*t;
    const by=mw.height*0.8-(mw.height*0.7)*t+(Math.random()-0.5)*mw.height*0.28;
    c.beginPath();c.arc(bx,by,Math.random()*0.8+0.2,0,Math.PI*2);
    c.fillStyle=`rgba(200,210,255,${Math.random()*0.35+0.05})`;c.fill();
  }
}
drawMilkyWay();

// 星星
const starsEl=document.getElementById('stars');
for(let i=0;i<200;i++){
  const s=document.createElement('div');s.className='star';
  const size=Math.random()*1.5+0.5;
  s.style.cssText=`left:${Math.random()*100}%;top:${Math.random()*100}%;width:${size}px;height:${size}px;animation-delay:${Math.random()*6}s;animation-duration:${3+Math.random()*5}s`;
  starsEl.appendChild(s);
}
for(let i=0;i<25;i++){
  const s=document.createElement('div');s.className='star bright';
  const size=Math.random()*2.5+2;
  s.style.cssText=`left:${Math.random()*100}%;top:${Math.random()*100}%;width:${size}px;height:${size}px;animation-delay:${Math.random()*5}s;animation-duration:${2+Math.random()*4}s`;
  starsEl.appendChild(s);
}
for(let i=0;i<12;i++){
  const s=document.createElement('div');s.className='star warm';
  const size=Math.random()*2+2.5;
  s.style.cssText=`left:${Math.random()*100}%;top:${Math.random()*100}%;width:${size}px;height:${size}px;animation-delay:${Math.random()*6}s;animation-duration:${3+Math.random()*4}s`;
  starsEl.appendChild(s);
}

// 时间问候
const h=new Date().getHours();
const greetText=h<6?'夜深了，辛苦了':h<12?'早上好，新的一天':h<14?'中午好，记得休息':h<18?'下午好，慢慢来':h<22?'晚上好，放松一下':'夜深了，辛苦了';
document.getElementById('greeting').textContent='— '+greetText+' —';

// 文案
const quotes=["你已经做得很好了，\n允许自己休息一会儿。","世界很大，但此刻，\n你只需要照顾好自己。","不必急着找到答案，\n有些花需要更长的时间才会开。","你的敏感是一种天赋，\n而不是负担。","深呼吸，\n这一刻只属于你。","月亮也有看不见的一面，\n但它依然完整。","慢慢来，\n比较快。","你不需要被所有人理解，\n你只需要被自己接纳。","此刻的安静，\n是你给自己最好的礼物。","不必向任何人解释你的疲惫，\n休息本身就是答案。"];
let qi=Math.floor(Math.random()*quotes.length);
const quoteEl=document.getElementById('quote');
function showQuote(){quoteEl.innerHTML=quotes[qi].replace('\n','<br><div class="quote-divider"></div>');}
showQuote();
quoteEl.addEventListener('click',function(e){
  e.stopPropagation();
  quoteEl.classList.add('fading');
  setTimeout(()=>{qi=(qi+1)%quotes.length;showQuote();quoteEl.classList.remove('fading');},500);
});
// 自动轮换
setInterval(()=>{quoteEl.classList.add('fading');setTimeout(()=>{qi=(qi+1)%quotes.length;showQuote();quoteEl.classList.remove('fading');},500);},15000);

// 涟漪
document.addEventListener('click',function(e){
  if(e.target.closest('.btn,.bowl,.release-btn,.release-input,input[type=range],.breath-wrap'))return;
  const r=document.createElement('div');r.className='ripple';
  r.style.left=e.clientX+'px';r.style.top=e.clientY+'px';
  document.body.appendChild(r);setTimeout(()=>r.remove(),1500);
});

// 颂钵
const bowlEl=document.getElementById('bowl');
const bowlSound=new Audio('freesound.mp3');
bowlEl.addEventListener('click',function(e){
  e.stopPropagation();
  bowlEl.classList.remove('ring');void bowlEl.offsetWidth;bowlEl.classList.add('ring');
  bowlSound.currentTime=0;bowlSound.volume=document.getElementById('vol').value;bowlSound.play();
  for(let i=0;i<3;i++){
    setTimeout(()=>{
      const r=document.createElement('div');r.className='ripple';
      const rect=bowlEl.getBoundingClientRect();
      r.style.left=(rect.left+rect.width/2)+'px';r.style.top=(rect.top+rect.height/2)+'px';
      document.body.appendChild(r);setTimeout(()=>r.remove(),1500);
    },i*300);
  }
});

// 音乐
let currentAudio=null,activeBtn=null;
const vol=document.getElementById('vol');
document.querySelectorAll('.btn').forEach(btn=>{
  btn.addEventListener('click',function(e){
    e.stopPropagation();
    if(activeBtn===btn){currentAudio.pause();btn.classList.remove('active');activeBtn=null;return;}
    if(currentAudio){currentAudio.pause();activeBtn.classList.remove('active');}
    currentAudio=new Audio(btn.dataset.src);currentAudio.loop=true;currentAudio.volume=vol.value;currentAudio.play();
    btn.classList.add('active');activeBtn=btn;
  });
});
vol.oninput=()=>{if(currentAudio)currentAudio.volume=vol.value};

// 释放烦恼
const releaseInput=document.getElementById('releaseInput');
const releaseBtn=document.getElementById('releaseBtn');
releaseBtn.addEventListener('click',function(e){
  e.stopPropagation();
  const text=releaseInput.value.trim();if(!text)return;
  const rect=releaseInput.getBoundingClientRect();
  const cx=rect.left+rect.width/2,cy=rect.top+rect.height/2;
  for(let i=0;i<text.length;i++){
    const p=document.createElement('div');p.className='particle';p.textContent=text[i];
    p.style.left=cx+'px';p.style.top=cy+'px';
    const angle=Math.random()*Math.PI*2,dist=120+Math.random()*200;
    p.style.setProperty('--tx',Math.cos(angle)*dist+'px');
    p.style.setProperty('--ty',(Math.sin(angle)*dist-80)+'px');
    p.style.animationDelay=(i*0.05)+'s';
    document.body.appendChild(p);setTimeout(()=>p.remove(),3000);
  }
  releaseInput.value='';
  const r=document.createElement('div');r.className='ripple';
  r.style.left=cx+'px';r.style.top=cy+'px';
  document.body.appendChild(r);setTimeout(()=>r.remove(),1500);
});
releaseInput.addEventListener('keydown',e=>{if(e.key==='Enter')releaseBtn.click()});

// 空格键控制音乐
document.addEventListener('keydown',function(e){
  if(e.code==='Space'&&document.activeElement!==releaseInput){
    e.preventDefault();
    if(currentAudio){currentAudio.paused?currentAudio.play():currentAudio.pause();}
  }
});

// 呼吸引导
const breathLabel=document.getElementById('breathLabel');
const breathRing=document.getElementById('breathRing');
const breathSteps=[
  {text:'吸气…',cls:'inhale',dur:4000},
  {text:'屏息…',cls:'inhale',dur:1500},
  {text:'呼气…',cls:'exhale',dur:4000},
  {text:'停留…',cls:'exhale',dur:1500}
];
let bi=0;
function nextBreath(){
  const step=breathSteps[bi];
  breathLabel.textContent=step.text;
  breathRing.className='breath-ring '+step.cls;
  bi=(bi+1)%breathSteps.length;
  setTimeout(nextBreath,step.dur);
}
setTimeout(nextBreath,3500);

// 鼠标星轨
const cvs=document.createElement('canvas');
cvs.style.cssText='position:fixed;top:0;left:0;z-index:15;pointer-events:none';
cvs.width=innerWidth;cvs.height=innerHeight;
document.body.appendChild(cvs);
const ctx=cvs.getContext('2d');
window.addEventListener('resize',()=>{cvs.width=innerWidth;cvs.height=innerHeight});
let isDrawing=false;
const pts=[],sparks=[];
document.addEventListener('mousedown',function(e){
  if(e.target.closest('.btn,.bowl,.release-btn,.release-input,input[type=range]'))return;
  isDrawing=true;pts.length=0;pts.push({x:e.clientX,y:e.clientY,t:Date.now()});
});
document.addEventListener('mousemove',function(e){
  if(!isDrawing)return;
  pts.push({x:e.clientX,y:e.clientY,t:Date.now()});
  if(Math.random()>0.5){
    const angle=Math.random()*Math.PI*2,r=Math.random()*35+10;
    const hue=Math.random()>0.5?[255,240,200]:[200,190,255];
    sparks.push({x:e.clientX+Math.cos(angle)*r,y:e.clientY+Math.sin(angle)*r,vx:(Math.random()-0.5)*1.5,vy:(Math.random()-0.5)*1.5,size:Math.random()*2.5+0.8,life:1,decay:0.02+Math.random()*0.02,color:hue});
  }
});
document.addEventListener('mouseup',()=>{isDrawing=false});
function draw(){
  ctx.clearRect(0,0,cvs.width,cvs.height);
  const now=Date.now();
  while(pts.length&&now-pts[0].t>800)pts.shift();
  if(pts.length>2){
    for(let i=1;i<pts.length;i++){
      const p=pts[i],life=1-(now-p.t)/800;
      if(life<=0)continue;
      const prev=pts[i-1];
      ctx.beginPath();ctx.moveTo(prev.x,prev.y);
      if(i+1<pts.length){const next=pts[i+1];ctx.quadraticCurveTo(p.x,p.y,(p.x+next.x)/2,(p.y+next.y)/2);}
      else ctx.lineTo(p.x,p.y);
      ctx.strokeStyle=`rgba(255,240,210,${life*life*0.6})`;ctx.lineWidth=life*5+1;ctx.lineCap='round';ctx.stroke();
      ctx.strokeStyle=`rgba(220,200,160,${life*life*0.15})`;ctx.lineWidth=life*5+9;ctx.stroke();
    }
  }
  for(let i=sparks.length-1;i>=0;i--){
    const s=sparks[i];s.x+=s.vx;s.y+=s.vy;s.life-=s.decay;
    if(s.life<=0){sparks.splice(i,1);continue;}
    ctx.beginPath();ctx.arc(s.x,s.y,s.size*s.life,0,Math.PI*2);
    ctx.fillStyle=`rgba(${s.color},${s.life})`;
    ctx.shadowColor=`rgba(${s.color},${s.life*0.5})`;ctx.shadowBlur=6;ctx.fill();
  }
  ctx.shadowBlur=0;requestAnimationFrame(draw);
}
// 萤火虫
function spawnFirefly(){
  const f=document.createElement('div');f.className='firefly';
  f.style.left=Math.random()*100+'%';f.style.top=(40+Math.random()*50)+'%';
  const dx=(Math.random()-0.5)*200,dy=(Math.random()-0.5)*150;
  f.style.setProperty('--fx',dx+'px');f.style.setProperty('--fy',dy+'px');
  f.style.animationDuration=(8+Math.random()*12)+'s';
  document.body.appendChild(f);setTimeout(()=>f.remove(),20000);
}
setInterval(spawnFirefly,2000);for(let i=0;i<6;i++)setTimeout(spawnFirefly,i*600);

draw();

// 绿精灵跟随鼠标
const elder=document.getElementById('elder');
let ex=100,ey=300,tx=100,ty=300;
elder.style.left=ex+'px';elder.style.top=ey+'px';

document.addEventListener('mousemove',function(e){
  tx=e.clientX-32;ty=e.clientY-90;
  // 魔法粒子尾迹
  if(Math.random()>0.55){
    const p=document.createElement('div');p.className='elder-magic';
    const size=Math.random()*6+3;
    p.style.cssText=`left:${ex+28}px;top:${ey+70}px;width:${size}px;height:${size}px;background:rgba(${Math.random()>0.5?'100,255,150':'180,255,200'},${Math.random()*0.6+0.3});box-shadow:0 0 ${size*2}px rgba(80,220,120,0.6);`;
    const angle=Math.random()*Math.PI*2,dist=20+Math.random()*40;
    p.style.setProperty('--mx',Math.cos(angle)*dist+'px');
    p.style.setProperty('--my',(Math.sin(angle)*dist+10)+'px');
    document.body.appendChild(p);setTimeout(()=>p.remove(),1200);
  }
});

setInterval(()=>{
  ex+=(tx-ex)*0.08;ey+=(ty-ey)*0.08;
  elder.style.left=Math.round(ex)+'px';elder.style.top=Math.round(ey)+'px';
},16);

document.addEventListener('click',function(e){
  if(e.target.closest('.btn,.bowl,.release-btn,.release-input,input[type=range],.breath-wrap'))return;
  elder.querySelector('svg').classList.remove('elder-tap');
  void elder.querySelector('svg').offsetWidth;
  elder.querySelector('svg').classList.add('elder-tap');
  // 点击时爆发魔法粒子
  for(let i=0;i<8;i++){
    const p=document.createElement('div');p.className='elder-magic';
    const size=Math.random()*8+4;
    p.style.cssText=`left:${ex+28}px;top:${ey+50}px;width:${size}px;height:${size}px;background:rgba(120,255,160,${Math.random()*0.5+0.4});box-shadow:0 0 ${size*3}px rgba(80,220,120,0.8);animation-duration:${0.8+Math.random()*0.6}s;`;
    const angle=(i/8)*Math.PI*2,dist=30+Math.random()*50;
    p.style.setProperty('--mx',Math.cos(angle)*dist+'px');
    p.style.setProperty('--my',Math.sin(angle)*dist+'px');
    document.body.appendChild(p);setTimeout(()=>p.remove(),1400);
  }
});

function blink(){
  const eyes=elder.querySelectorAll('#eye-l,#eye-r');
  eyes.forEach(e=>{e.classList.add('elder-blink');setTimeout(()=>e.classList.remove('elder-blink'),180);});
  setTimeout(blink,2000+Math.random()*4000);
}
setTimeout(blink,1500);
</script>
</body>
</html>
